---
import { getImage, Image } from 'astro:assets';

import KursLayout from '@layouts/KursLayout.astro';
import Banner from '@compositions/Banner.astro';
import BackgroundSection from '@components/sections/BackgroundSection.astro';
import ColumnsSection from '@components/sections/ColumnsSection.astro';
import CardPlain from '@components/cards/CardPlain.astro';
import LinkButton from '@components/LinkButton.astro';
import Persona from '@components/Persona.astro';
import LabLinkButton from '@components/LabLinkButton.astro';
import Blockquote from '@/components/Blockquote.astro';
import Carousel from '@components/Carousel.astro';
import MailIcon from '@assets/svg/icons/mail.svg';
import PeopleSection from '@compositions/People.astro';

import carouselBackgroundSvg from '@assets/branding/agentur/CL-Zitat-BackgroundGradient-.svg';
const CarouselBackground = await getImage({
  src: carouselBackgroundSvg,
  format: 'webp',
});

import kurs1 from '@data/kurs1.json';
import quotes from '@data/quotes.json';
import * as KostenContent from '@content/landing/kosten.md';
import FlyerKurs from '@assets/images/correllab-flyer-kurs1.png';

import ImageZoe from '@assets/images/wolter-zoe.jpg';
import ImageAntje from '@assets/images/relitz-antje.png';
import ImageEmma from '@assets/images/morlock-emma.png';

const people = [
  {
    name: 'Zoé Wolter',
    role: 'Geschäftsführung und Bildung',
    image: ImageZoe.src,
    email: 'lab@correlaid.org?subject=CorrelLAB&body=Hi%20Zo%C3%A9%2C',
  },
  {
    name: 'Antje Relitz',
    role: 'Bildung',
    image: ImageAntje.src,
    email: 'lab@correlaid.org?subject=CorrelLAB&body=Hi%20Antje%2C',
  },
  {
    name: 'Emma Morlock',
    role: 'Werkstudentin Data Literacy',
    image: ImageEmma.src,
    email: 'lab@correlaid.org?subject=CorrelLAB&body=Hi%20Emma%2C',
  },
];
---

<KursLayout>
  <h4 slot="subtitle">Kurs 1: Daten verstehen &ndash;Grundlagenwissen entdecken</h4>
  <p slot="teaser">
    Viele Organisationen sammeln täglich Daten – doch nur wenige nutzen sie gezielt. Wie lassen sich
    Daten strategisch für Entscheidungen nutzen? Was bedeuten Datenethik und Datenschutz konkret im
    Alltag? Und wie gelingt der Einstieg, wenn im Team keine Statistikexpertise vorhanden ist?
  </p>
  <Fragment slot="cta">
    <LabLinkButton href="#start">Kursüberblick</LabLinkButton>
    <LabLinkButton href="/kurse/kurs2">zu Kurs 2</LabLinkButton>
  </Fragment>

  <ColumnsSection center_title>
    <Fragment slot="pre">
      <Blockquote bare wide>
        In unserem Kurs „Daten verstehen: Grundlagenwissen entdecken“ lernt ihr, Daten richtig
        einzuschätzen, Wirkung messbar zu machen und datenbasierte Projekte sicher anzugehen – auch
        ohne Vorwissen.<br /><br /> Wir verbinden Grundlagenwissen mit konkreten Anwendungen und schaffen
        Raum für Austausch, Fragen und individuelle Begleitung – von und für die Zivilgesellschaft!
      </Blockquote>
    </Fragment>
    <div class="flex rows gap-2" slot="col1">
      <h4>Der Kurs ist für dich richtig, wenn…</h4>
      <ul>
        <li>… du in die Welt der Daten einsteigen willst – ohne Vorkenntnisse.</li>
        <li>
          … du lernen möchtest, Themen wie Datenschutz, künstliche Intelligenz oder maschinelles
          Lernen abwägend und kritisch zu beurteilen.
        </li>
        <li>
          … du einen Überblick bekommen willst, wofür du Daten nutzen kannst: von Visualisierungen
          und Data Storytelling über Wirkungsmessung bis hin zu automatisiertem Reporting.
        </li>
        <li>… du mehr aus den Daten machen möchtest, die in deiner Organisation vorliegen.</li>
      </ul>
    </div>

    <div class="flex rows gap-2" slot="col2">
      <h4>Im Kurs lernst du…</h4>
      <ul>
        <li>
          … relevante Daten zu identifizieren und erfährst, wofür du diese Daten nutzen kannst.
        </li>
        <li>
          … Daten zu strukturieren und ihre Nutzung ethisch und datenschutzrechtlich zu beurteilen.
        </li>
        <li>
          … Grundkenntnisse in Statistik, Künstlicher Intelligenz und Visualisierung selbstbewusst
          anzuwenden.
        </li>
        <li>… welche Anwendungsfälle Daten in der Wirkungsmessung und im Reporting haben.</li>
        <li>… wie du dein erstes Datenprojekt in der Praxis initiieren und planen kannst.</li>
      </ul>
    </div>
  </ColumnsSection>

  <BackgroundSection
    options={{ content_grid: true, full_height: true, center: true }}
    asset={{ src: CarouselBackground.src, position: 'bottom right' }}
  >
    <Carousel slides={quotes.landing.filter((quote) => quote.k === 1)} id="carousel">
      {
        quotes.landing
          .filter((quote) => quote.k === 1)
          .map((quote, index) => (
            <div class="carousel-content" data-step-id={index + 1}>
              <Blockquote id={index + 1}>
                <Fragment>{quote.quote}</Fragment>
                <Fragment slot="cite">
                  {' '}
                  <span class="name txt-italic">{quote.cite.name}</span>
                  <span class="role">{quote.cite.role}</span>
                </Fragment>
              </Blockquote>
            </div>
          ))
      }
    </Carousel>
  </BackgroundSection>

  <section class="prose">
    <CardPlain>
      <h4 slot="card-title">Wie läuft der Kurs ab?</h4>
      <ul slot="content">
        <li>Zeitraum: 12 Wochen vom 12. September bis 12. Dezember 2025</li>
        <li>Zeitaufwand: 2 bis 4 Stunden / Woche</li>
        <li>Format: Integriertes Lernformat mit</li>
        <ul>
          <li>interaktiver Lernplattform,</li>
          <li>
            wöchentlicher Online-Livesession mit datenwissenschaftlichen Tutor*innen, immer freitags
            zu den oben genannten Terminen von 12 bis 13 Uhr,
          </li>
          <li>gemeinsamem Lernen in kleinen Gruppen,</li>
          <li>
            individueller Beratung in Datensprechstunden zu den Herausforderungen eurer eigenen
            Organisation.
          </li>
        </ul>
      </ul>
    </CardPlain>
  </section>

  <section class="pt-0">
    <figure>
      <Image src={FlyerKurs} alt="Flyer Kurs 1" />
      <figcaption class="contained">TODO: Flyer</figcaption>
    </figure>
    <div class="subsection prose pad-6">
      <CardPlain>
        <h4 slot="card-title">Die Themen</h4>
        <table slot="content">
          <tbody>
            {
              kurs1.map((item) => (
                <tr>
                  <td>{item.date}</td>
                  <td>{item.topic}</td>
                </tr>
              ))
            }
          </tbody>
        </table>
      </CardPlain>
    </div>
    <div class="subsection content-box narrow flex rows align-center">
      <Fragment set:html={await KostenContent.compiledContent()} />
    </div>
  </section>

  <section class="sticky sticky-bottom">
    <LabLinkButton href="https://pretix.eu/control/event/correlaid/correllab-1-dl/">
      Hier geht es zur Anmeldung!
    </LabLinkButton>
  </section>

  <PeopleSection people={people} />

  <Banner slot="banner">
    <Fragment slot="title">Interessiert?</Fragment>
    <Fragment slot="body">
      <p class="light">
        Wir sind immer auf der Suche nach ehrenamtlichen Tutor*innen für unseren nächsten Kurs!
      </p>
      <p class="light">Melde dich dazu einfach kurz bei unserem Bildungsteam.</p>
    </Fragment>
    <LinkButton
      variant="btn-light"
      href="mailto:education@correlaid.org"
      classes="btn-icon"
      slot="cta"><MailIcon height={'20'} /> Nachricht schreiben</LinkButton
    >
  </Banner>

  <div class="flex cols center gap-2 pad-8" slot="footer-links">
    <LabLinkButton href="/kurse/kurs2">zu Kurs 2</LabLinkButton>
    <LabLinkButton href="/praxisphase">Praxisphase</LabLinkButton>
  </div>
</KursLayout>

<style>
  .sticky-bottom {
    position: sticky;
    bottom: 0;
    width: 100%;
    background-color: var(--color-background);
    padding: 1rem;
    display: flex;
    justify-content: center;
    align-items: center;
  }
</style>
